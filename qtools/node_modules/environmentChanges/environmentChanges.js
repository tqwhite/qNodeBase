/*
	Array Remove - By John Resig (MIT Licensed)
	http://ejohn.org/blog/javascript-array-remove/
	Remove the second item from the array
		array.remove(1);
	Remove the second-to-last item from the array
		array.remove(-2);
	Remove the second and third items from the array
		array.remove(1,2);
	Remove the last and second-to-last items from the array
		array.remove(-2,-1);
*/

const docList = [
	'Array.prototype.remove = function(from, to)',
	'String.prototype.toCamelCase = function(delimiter, pascalCase)'
];

// Array.prototype.remove = function(from, to) {
// 	var rest = this.slice((to || from) + 1 || this.length);
// 	this.length = from < 0 ? this.length + from : from;
// 	return this.push.apply(this, rest);
// };

String.prototype.toCamelCase = function(delimiter, pascalCase) {
	var firstCharFunction = pascalCase
		? function(v) {
				return v.toUpperCase();
			}
		: function(v) {
				return v.toLowerCase();
			};
	delimiter = delimiter ? delimiter : ' ';
	return this.split(delimiter)
		.map(function(word) {
			var first = word.substring(0, 1);
			word = word.replace(new RegExp(first), first.toUpperCase());
			return word;
		})
		.join('')
		.replace(/^(.)/, firstCharFunction);
};

const addMorePrototypes = (qtools, updatePrototypes) => {
	if (updatePrototypes) {
		String.prototype.qtReplace = function(parmSet) {
			parmSet.template = this;
			if (parmSet.replaceArray) {
				return qtools.templateReplaceArray(parmSet);
			} else {
				return qtools.templateReplace(parmSet);
			}
		};
		docList.push('String.prototype.qtReplace(templateReplaceArgs)');

		require('qtools-number-iterator').addToPrototype();
		require('qtools-includes-regex').addToPrototype();
		require('qtools-to-string').addToPrototype();
		require('qtools-number-keys-to-array').addToPrototype();
	}
};

module.exports = {
	docList,
	addMorePrototypes
};
